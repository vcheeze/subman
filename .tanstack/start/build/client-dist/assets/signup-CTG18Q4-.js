import{U as w,r as o,j as e,L as N}from"./main-Bph0N3Xt.js";import{A as y,C as S,a as v,b,c as l}from"./auth-client-DXEG0c6L.js";import{B as t}from"./button-Cgi5flwZ.js";import{I as c}from"./input-BhvfZWU6.js";import{L as m}from"./label-DpfQT2SG.js";import{S as d}from"./separator-CDnNemhy.js";import{E}from"./eye-BbbRTmlE.js";import{E as C}from"./eye-closed-BU26ePD1.js";import"./createLucideIcon-DEV_LwaW.js";import"./index-B4uYwTLQ.js";const T=function(){const{redirect:x}=w.useSearch(),[i,g]=o.useState(!1),[r,p]=o.useState(""),u=async a=>{a.preventDefault();const j=new FormData(a.currentTarget),f=Object.fromEntries(j.entries());try{const{data:n,error:s}=await l.signIn.email({...f,callbackURL:x});(s==null?void 0:s.status)===401&&p((s==null?void 0:s.message)||"Something weng wrong while signing you in. Please try again.")}catch(n){console.error(n)}},h=async()=>{await l.signIn.social({provider:"google",callbackURL:"/app"})};return e.jsxs("div",{className:"mx-auto flex h-screen max-w-sm flex-col items-center justify-center p-4 lg:max-w-md lg:p-8",children:[e.jsx("img",{alt:"Subman logo",className:"mb-2 size-16",src:"/logo_light.svg"}),e.jsx("h1",{className:"mb-2 font-serif text-2xl lg:text-3xl",children:"Welcome to Subman"}),e.jsxs("p",{className:"mb-6 text-muted-foreground text-sm",children:["Already have an account?Â ",e.jsx(N,{className:"underline",to:"/signin",viewTransition:!0,children:"Sign in"})]}),e.jsxs("form",{className:"w-full space-y-4",onSubmit:u,children:[r&&e.jsxs(y,{variant:"destructive",children:[e.jsx(S,{}),e.jsx(v,{children:"We couldn't sign you up."}),e.jsx(b,{children:r})]}),e.jsxs("div",{className:"grid items-center gap-2",children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",name:"email",type:"email"})]}),e.jsxs("div",{className:"grid items-center gap-2",children:[e.jsx(m,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{id:"password",name:"password",type:i?"text":"password"}),e.jsx(t,{onClick:()=>g(a=>!a),size:"icon",variant:"outline",children:i?e.jsx(E,{}):e.jsx(C,{})})]})]}),e.jsx(t,{className:"mt-2 w-full",children:"Sign Up"})]}),e.jsxs("div",{className:"my-4 flex w-full items-center justify-center gap-2",children:[e.jsx(d,{className:"flex-1"}),e.jsx("span",{className:"text-muted-foreground",children:"Or"}),e.jsx(d,{className:"flex-1"})]}),e.jsxs(t,{className:"flex items-center gap-2",onClick:h,size:"lg",variant:"outline",children:[e.jsx("img",{alt:"Google G",className:"size-6",src:"/images/g.webp"}),"Sign in with Google"]})]})};export{T as component};
