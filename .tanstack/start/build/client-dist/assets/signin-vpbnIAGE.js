import{V as w,r as l,j as s,L as N}from"./main-Bph0N3Xt.js";import{A as y,C as S,a as v,b,c}from"./auth-client-DXEG0c6L.js";import{B as t}from"./button-Cgi5flwZ.js";import{I as m}from"./input-BhvfZWU6.js";import{L as d}from"./label-DpfQT2SG.js";import{S as x}from"./separator-CDnNemhy.js";import{E}from"./eye-BbbRTmlE.js";import{E as C}from"./eye-closed-BU26ePD1.js";import"./createLucideIcon-DEV_LwaW.js";import"./index-B4uYwTLQ.js";const B=function(){const{redirect:r}=w.useSearch(),[i,g]=l.useState(!1),[n,p]=l.useState(""),u=async e=>{e.preventDefault();const j=new FormData(e.currentTarget),f=Object.fromEntries(j.entries());try{const{data:o,error:a}=await c.signIn.email({...f,callbackURL:r});(a==null?void 0:a.status)===401&&p((a==null?void 0:a.message)||"Something weng wrong while signing you in. Please try again.")}catch(o){console.error(o)}},h=async()=>{const e=await c.signIn.social({provider:"google",callbackURL:"/app"});console.log("data :>> ",e)};return s.jsxs("div",{className:"mx-auto flex h-screen max-w-sm flex-col items-center justify-center p-4 lg:max-w-md lg:p-8",children:[s.jsx("img",{alt:"Subman logo",className:"mb-2 size-16",src:"/logo_light.svg"}),s.jsx("h1",{className:"mb-2 font-serif text-2xl lg:text-3xl",children:"Welcome to Subman"}),s.jsxs("p",{className:"mb-6 text-muted-foreground text-sm",children:["Don't have an account?Â ",s.jsx(N,{className:"underline",search:{redirect:r},to:"/signup",viewTransition:!0,children:"Sign up"})]}),s.jsxs("form",{className:"w-full space-y-4",onSubmit:u,children:[n&&s.jsxs(y,{variant:"destructive",children:[s.jsx(S,{}),s.jsx(v,{children:"We couldn't sign you in."}),s.jsx(b,{children:n})]}),s.jsxs("div",{className:"grid items-center gap-2",children:[s.jsx(d,{htmlFor:"email",children:"Email"}),s.jsx(m,{id:"email",name:"email",type:"email"})]}),s.jsxs("div",{className:"grid items-center gap-2",children:[s.jsx(d,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m,{id:"password",name:"password",type:i?"text":"password"}),s.jsx(t,{onClick:()=>g(e=>!e),size:"icon",variant:"outline",children:i?s.jsx(E,{}):s.jsx(C,{})})]})]}),s.jsx(t,{className:"mt-2 w-full",children:"Sign In"})]}),s.jsxs("div",{className:"my-4 flex w-full items-center justify-center gap-2",children:[s.jsx(x,{className:"flex-1"}),s.jsx("span",{className:"text-muted-foreground",children:"Or"}),s.jsx(x,{className:"flex-1"})]}),s.jsxs(t,{className:"flex items-center gap-2",onClick:h,size:"lg",variant:"outline",children:[s.jsx("img",{alt:"Google G",className:"size-6",src:"/images/g.webp"}),"Sign in with Google"]})]})};export{B as component};
